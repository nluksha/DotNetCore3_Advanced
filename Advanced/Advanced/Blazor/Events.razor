
@for (int i = 0; i < ElementCount; i++)
{
    int local = i;
    <div class="m-2 p-2 border">
        <button @onclick="@(e => IncrementCounter(local))" class="btn btn-primary">Increment Counter #@(i+1)</button>
        <span class="p-2">Counter Value: @GetCounter(i)</span>
        <button @onclick="@(() => Counters.Remove(local))" class="btn btn-info">Reset</button>
    </div>
}

@code {
    public int ElementCount { get; set; } = 4;
    public Dictionary<int, int> Counters { get; } = new Dictionary<int, int>();

    public int GetCounter(int index) => Counters.ContainsKey(index) ? Counters[index] : 0;

    public void IncrementCounter(int index) => Counters[index] = GetCounter(index) + 1;
}
